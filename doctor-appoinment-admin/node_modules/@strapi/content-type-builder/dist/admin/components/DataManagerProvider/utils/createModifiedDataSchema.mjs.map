{"version":3,"file":"createModifiedDataSchema.mjs","sources":["../../../../../admin/src/components/DataManagerProvider/utils/createModifiedDataSchema.ts"],"sourcesContent":["import get from 'lodash/get';\n\nimport type { ContentType, Components } from '../../../types';\nimport type { Internal } from '@strapi/types';\n\nexport const createModifiedDataSchema = (\n  contentTypeSchema: ContentType,\n  retrievedComponents: Internal.UID.Component[],\n  allComponentsSchema: Components,\n  isInContentTypeView: boolean\n) => {\n  const componentsAssociatedToContentType = retrievedComponents.reduce((acc: any, current) => {\n    const componentSchema = get(allComponentsSchema, current, {});\n\n    acc[current] = componentSchema;\n\n    return acc;\n  }, {});\n  const keyName = isInContentTypeView ? 'contentType' : 'component';\n  const schema = {\n    [keyName]: contentTypeSchema,\n    components: componentsAssociatedToContentType,\n  };\n\n  return schema;\n};\n"],"names":["createModifiedDataSchema","contentTypeSchema","retrievedComponents","allComponentsSchema","isInContentTypeView","componentsAssociatedToContentType","reduce","acc","current","componentSchema","get","keyName","schema","components"],"mappings":";;AAKaA,MAAAA,wBAAAA,GAA2B,CACtCC,iBAAAA,EACAC,qBACAC,mBACAC,EAAAA,mBAAAA,GAAAA;AAEA,IAAA,MAAMC,iCAAoCH,GAAAA,mBAAAA,CAAoBI,MAAM,CAAC,CAACC,GAAUC,EAAAA,OAAAA,GAAAA;AAC9E,QAAA,MAAMC,eAAkBC,GAAAA,GAAAA,CAAIP,mBAAqBK,EAAAA,OAAAA,EAAS,EAAC,CAAA;QAE3DD,GAAG,CAACC,QAAQ,GAAGC,eAAAA;QAEf,OAAOF,GAAAA;AACT,KAAA,EAAG,EAAC,CAAA;IACJ,MAAMI,OAAAA,GAAUP,sBAAsB,aAAgB,GAAA,WAAA;AACtD,IAAA,MAAMQ,MAAS,GAAA;AACb,QAAA,CAACD,UAAUV,iBAAAA;QACXY,UAAYR,EAAAA;AACd,KAAA;IAEA,OAAOO,MAAAA;AACT;;;;"}