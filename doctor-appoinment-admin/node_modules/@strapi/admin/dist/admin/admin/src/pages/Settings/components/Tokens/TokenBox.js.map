{"version":3,"file":"TokenBox.js","sources":["../../../../../../../../admin/src/pages/Settings/components/Tokens/TokenBox.tsx"],"sourcesContent":["import { IconButton } from '@strapi/design-system';\nimport { Duplicate, Key } from '@strapi/icons';\nimport { useIntl } from 'react-intl';\n\nimport { ContentBox } from '../../../../components/ContentBox';\nimport { useNotification } from '../../../../features/Notifications';\nimport { useTracking } from '../../../../features/Tracking';\nimport { useClipboard } from '../../../../hooks/useClipboard';\n\ninterface TokenBoxProps {\n  token?: string;\n  tokenType: 'transfer-token' | 'api-token';\n}\n\nexport const TokenBox = ({ token, tokenType }: TokenBoxProps) => {\n  const { formatMessage } = useIntl();\n  const { toggleNotification } = useNotification();\n  const { trackUsage } = useTracking();\n\n  const { copy } = useClipboard();\n\n  const handleClick = (token: TokenBoxProps['token']) => async () => {\n    if (token) {\n      const didCopy = await copy(token);\n\n      if (didCopy) {\n        trackUsage('didCopyTokenKey', {\n          tokenType,\n        });\n        toggleNotification({\n          type: 'success',\n          message: formatMessage({ id: 'Settings.tokens.notification.copied' }),\n        });\n      }\n    }\n  };\n\n  return (\n    <ContentBox\n      endAction={\n        token && (\n          <span style={{ alignSelf: 'start' }}>\n            <IconButton\n              label={formatMessage({\n                id: 'app.component.CopyToClipboard.label',\n                defaultMessage: 'Copy to clipboard',\n              })}\n              onClick={handleClick(token)}\n              variant=\"ghost\"\n              type=\"button\"\n              style={{ padding: 0, height: '1.6rem' }}\n            >\n              <Duplicate />\n            </IconButton>\n          </span>\n        )\n      }\n      title={\n        token ||\n        formatMessage({\n          id: 'Settings.tokens.copy.editTitle',\n          defaultMessage: 'This token isn’t accessible anymore.',\n        })\n      }\n      subtitle={\n        token\n          ? formatMessage({\n              id: 'Settings.tokens.copy.lastWarning',\n              defaultMessage: 'Make sure to copy this token, you won’t be able to see it again!',\n            })\n          : formatMessage({\n              id: 'Settings.tokens.copy.editMessage',\n              defaultMessage: 'For security reasons, you can only see your token once.',\n            })\n      }\n      icon={<Key />}\n      iconBackground=\"neutral100\"\n    />\n  );\n};\n"],"names":["TokenBox","token","tokenType","formatMessage","useIntl","toggleNotification","useNotification","trackUsage","useTracking","copy","useClipboard","handleClick","didCopy","type","message","id","_jsx","ContentBox","endAction","span","style","alignSelf","IconButton","label","defaultMessage","onClick","variant","padding","height","Duplicate","title","subtitle","icon","Key","iconBackground"],"mappings":";;;;;;;;;;;MAcaA,QAAW,GAAA,CAAC,EAAEC,KAAK,EAAEC,SAAS,EAAiB,GAAA;IAC1D,MAAM,EAAEC,aAAa,EAAE,GAAGC,iBAAAA,EAAAA;IAC1B,MAAM,EAAEC,kBAAkB,EAAE,GAAGC,6BAAAA,EAAAA;IAC/B,MAAM,EAAEC,UAAU,EAAE,GAAGC,oBAAAA,EAAAA;IAEvB,MAAM,EAAEC,IAAI,EAAE,GAAGC,yBAAAA,EAAAA;IAEjB,MAAMC,WAAAA,GAAc,CAACV,KAAkC,GAAA,UAAA;AACrD,YAAA,IAAIA,KAAO,EAAA;gBACT,MAAMW,OAAAA,GAAU,MAAMH,IAAKR,CAAAA,KAAAA,CAAAA;AAE3B,gBAAA,IAAIW,OAAS,EAAA;AACXL,oBAAAA,UAAAA,CAAW,iBAAmB,EAAA;AAC5BL,wBAAAA;AACF,qBAAA,CAAA;oBACAG,kBAAmB,CAAA;wBACjBQ,IAAM,EAAA,SAAA;AACNC,wBAAAA,OAAAA,EAASX,aAAc,CAAA;4BAAEY,EAAI,EAAA;AAAsC,yBAAA;AACrE,qBAAA,CAAA;AACF;AACF;AACF,SAAA;AAEA,IAAA,qBACEC,cAACC,CAAAA,qBAAAA,EAAAA;AACCC,QAAAA,SAAAA,EACEjB,uBACEe,cAACG,CAAAA,MAAAA,EAAAA;YAAKC,KAAO,EAAA;gBAAEC,SAAW,EAAA;AAAQ,aAAA;AAChC,YAAA,QAAA,gBAAAL,cAACM,CAAAA,uBAAAA,EAAAA;AACCC,gBAAAA,KAAAA,EAAOpB,aAAc,CAAA;oBACnBY,EAAI,EAAA,qCAAA;oBACJS,cAAgB,EAAA;AAClB,iBAAA,CAAA;AACAC,gBAAAA,OAAAA,EAASd,WAAYV,CAAAA,KAAAA,CAAAA;gBACrByB,OAAQ,EAAA,OAAA;gBACRb,IAAK,EAAA,QAAA;gBACLO,KAAO,EAAA;oBAAEO,OAAS,EAAA,CAAA;oBAAGC,MAAQ,EAAA;AAAS,iBAAA;AAEtC,gBAAA,QAAA,gBAAAZ,cAACa,CAAAA,eAAAA,EAAAA,EAAAA;;;AAKTC,QAAAA,KAAAA,EACE7B,SACAE,aAAc,CAAA;YACZY,EAAI,EAAA,gCAAA;YACJS,cAAgB,EAAA;AAClB,SAAA,CAAA;AAEFO,QAAAA,QAAAA,EACE9B,QACIE,aAAc,CAAA;YACZY,EAAI,EAAA,kCAAA;YACJS,cAAgB,EAAA;AAClB,SAAA,CAAA,GACArB,aAAc,CAAA;YACZY,EAAI,EAAA,kCAAA;YACJS,cAAgB,EAAA;AAClB,SAAA,CAAA;AAENQ,QAAAA,IAAAA,gBAAMhB,cAACiB,CAAAA,SAAAA,EAAAA,EAAAA,CAAAA;QACPC,cAAe,EAAA;;AAGrB;;;;"}