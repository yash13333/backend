{"version":3,"file":"WysiwygNav.js","sources":["../../../../../../../admin/src/pages/EditView/components/FormInputs/Wysiwyg/WysiwygNav.tsx"],"sourcesContent":["import * as React from 'react';\n\nimport {\n  Button,\n  Flex,\n  IconButton,\n  IconButtonGroup,\n  SingleSelectOption,\n  SingleSelect,\n  Field,\n  Menu,\n} from '@strapi/design-system';\nimport {\n  Bold,\n  BulletList,\n  Code,\n  Italic,\n  Link,\n  NumberList,\n  Image,\n  Quotes,\n  StrikeThrough,\n  Underline,\n  HeadingOne,\n  HeadingTwo,\n  HeadingThree,\n  HeadingFour,\n  HeadingFive,\n  HeadingSix,\n} from '@strapi/icons';\nimport { EditorFromTextArea } from 'codemirror5';\nimport { useIntl } from 'react-intl';\n\nimport { EditorToolbarObserver, type ObservedComponent } from '../../EditorToolbarObserver';\n\nimport { listHandler, markdownHandler, quoteAndCodeHandler, titleHandler } from './utils/utils';\n\ninterface WysiwygNavProps {\n  disabled?: boolean;\n  editorRef: React.MutableRefObject<EditorFromTextArea>;\n  isExpandMode?: boolean;\n  isPreviewMode?: boolean;\n  onToggleMediaLib: () => void;\n  onTogglePreviewMode?: () => void;\n}\n\n/**\n * TODO: refactor this mess.\n */\nconst WysiwygNav = ({\n  disabled,\n  editorRef,\n  isPreviewMode,\n  onToggleMediaLib,\n  onTogglePreviewMode,\n}: WysiwygNavProps) => {\n  const { formatMessage } = useIntl();\n  const isDisabled = disabled || isPreviewMode;\n\n  const handleActionClick = (\n    value: string,\n    currentEditorRef: React.MutableRefObject<EditorFromTextArea>\n  ) => {\n    switch (value) {\n      case 'Link': {\n        markdownHandler(currentEditorRef, value);\n        break;\n      }\n      case 'Code':\n      case 'Quote': {\n        quoteAndCodeHandler(currentEditorRef, value);\n        break;\n      }\n      case 'Bold':\n      case 'Italic':\n      case 'Underline':\n      case 'Strikethrough': {\n        markdownHandler(currentEditorRef, value);\n        break;\n      }\n      case 'BulletList':\n      case 'NumberList': {\n        listHandler(currentEditorRef, value);\n        break;\n      }\n      case 'h1':\n      case 'h2':\n      case 'h3':\n      case 'h4':\n      case 'h5':\n      case 'h6': {\n        titleHandler(currentEditorRef, value);\n        break;\n      }\n      default: {\n        // Nothing\n      }\n    }\n  };\n\n  const observedComponents: ObservedComponent[] = [\n    {\n      toolbar: (\n        <IconButtonGroup>\n          <IconButton\n            disabled={isDisabled}\n            onClick={() => handleActionClick('Bold', editorRef)}\n            label={formatMessage({\n              id: 'components.Blocks.modifiers.bold',\n              defaultMessage: 'Bold',\n            })}\n            name={formatMessage({\n              id: 'components.Blocks.modifiers.bold',\n              defaultMessage: 'Bold',\n            })}\n          >\n            <Bold />\n          </IconButton>\n          <IconButton\n            disabled={isDisabled}\n            onClick={() => handleActionClick('Italic', editorRef)}\n            label={formatMessage({\n              id: 'components.Blocks.modifiers.italic',\n              defaultMessage: 'Italic',\n            })}\n            name={formatMessage({\n              id: 'components.Blocks.modifiers.italic',\n              defaultMessage: 'Italic',\n            })}\n          >\n            <Italic />\n          </IconButton>\n          <IconButton\n            disabled={isDisabled}\n            onClick={() => handleActionClick('Underline', editorRef)}\n            label={formatMessage({\n              id: 'components.Blocks.modifiers.underline',\n              defaultMessage: 'Underline',\n            })}\n            name={formatMessage({\n              id: 'components.Blocks.modifiers.underline',\n              defaultMessage: 'Underline',\n            })}\n          >\n            <Underline />\n          </IconButton>\n          <IconButton\n            disabled={isDisabled}\n            onClick={() => handleActionClick('Strikethrough', editorRef)}\n            label={formatMessage({\n              id: 'components.Blocks.modifiers.strikethrough',\n              defaultMessage: 'Strikethrough',\n            })}\n            name={formatMessage({\n              id: 'components.Blocks.modifiers.strikethrough',\n              defaultMessage: 'Strikethrough',\n            })}\n          >\n            <StrikeThrough />\n          </IconButton>\n        </IconButtonGroup>\n      ),\n      menu: (\n        <>\n          <Menu.Separator />\n          <Menu.Item onSelect={() => handleActionClick('Bold', editorRef)} disabled={isDisabled}>\n            <Flex tag=\"span\" gap={2}>\n              <Bold aria-hidden fill=\"neutral600\" />\n              {formatMessage({\n                id: 'components.Blocks.modifiers.bold',\n                defaultMessage: 'Bold',\n              })}\n            </Flex>\n          </Menu.Item>\n          <Menu.Item onSelect={() => handleActionClick('Italic', editorRef)} disabled={isDisabled}>\n            <Flex tag=\"span\" gap={2}>\n              <Italic aria-hidden fill=\"neutral600\" />\n              {formatMessage({\n                id: 'components.Blocks.modifiers.italic',\n                defaultMessage: 'Italic',\n              })}\n            </Flex>\n          </Menu.Item>\n          <Menu.Item\n            onSelect={() => handleActionClick('Underline', editorRef)}\n            disabled={isDisabled}\n          >\n            <Flex tag=\"span\" gap={2}>\n              <Underline aria-hidden fill=\"neutral600\" />\n              {formatMessage({\n                id: 'components.Blocks.modifiers.underline',\n                defaultMessage: 'Underline',\n              })}\n            </Flex>\n          </Menu.Item>\n          <Menu.Item\n            onSelect={() => handleActionClick('Strikethrough', editorRef)}\n            disabled={isDisabled}\n          >\n            <Flex tag=\"span\" gap={2}>\n              <StrikeThrough aria-hidden fill=\"neutral600\" />\n              {formatMessage({\n                id: 'components.Blocks.modifiers.strikethrough',\n                defaultMessage: 'Strikethrough',\n              })}\n            </Flex>\n          </Menu.Item>\n        </>\n      ),\n      key: 'formatting-group-1',\n    },\n    {\n      toolbar: (\n        <IconButtonGroup>\n          <IconButton\n            disabled={isDisabled}\n            onClick={() => handleActionClick('BulletList', editorRef)}\n            label={formatMessage({\n              id: 'components.Blocks.blocks.bulletList',\n              defaultMessage: 'Bulleted list',\n            })}\n            name={formatMessage({\n              id: 'components.Blocks.blocks.bulletList',\n              defaultMessage: 'Bulleted list',\n            })}\n          >\n            <BulletList />\n          </IconButton>\n          <IconButton\n            disabled={isDisabled}\n            onClick={() => handleActionClick('NumberList', editorRef)}\n            label={formatMessage({\n              id: 'components.Blocks.blocks.numberList',\n              defaultMessage: 'Numbered list',\n            })}\n            name={formatMessage({\n              id: 'components.Blocks.blocks.numberList',\n              defaultMessage: 'Numbered list',\n            })}\n          >\n            <NumberList />\n          </IconButton>\n        </IconButtonGroup>\n      ),\n      menu: (\n        <>\n          <Menu.Separator />\n          <Menu.Item\n            onSelect={() => handleActionClick('BulletList', editorRef)}\n            disabled={isDisabled}\n          >\n            <Flex tag=\"span\" gap={2}>\n              <BulletList aria-hidden fill=\"neutral600\" />\n              {formatMessage({\n                id: 'components.Blocks.blocks.unorderedList',\n                defaultMessage: 'Bulleted list',\n              })}\n            </Flex>\n          </Menu.Item>\n          <Menu.Item\n            onSelect={() => handleActionClick('NumberList', editorRef)}\n            disabled={isDisabled}\n          >\n            <Flex tag=\"span\" gap={2}>\n              <NumberList aria-hidden fill=\"neutral600\" />\n              {formatMessage({\n                id: 'components.Blocks.blocks.orderedList',\n                defaultMessage: 'Numbered list',\n              })}\n            </Flex>\n          </Menu.Item>\n        </>\n      ),\n      key: 'formatting-group-2',\n    },\n    {\n      toolbar: (\n        <IconButtonGroup>\n          <IconButton\n            disabled={isDisabled}\n            onClick={() => handleActionClick('Code', editorRef)}\n            label={formatMessage({\n              id: 'components.Wysiwyg.blocks.code',\n              defaultMessage: 'Code',\n            })}\n            name={formatMessage({\n              id: 'components.Wysiwyg.blocks.code',\n              defaultMessage: 'Code',\n            })}\n          >\n            <Code />\n          </IconButton>\n          <IconButton\n            disabled={isDisabled}\n            onClick={() => {\n              onToggleMediaLib();\n            }}\n            label={formatMessage({\n              id: 'components.Blocks.blocks.image',\n              defaultMessage: 'Image',\n            })}\n            name={formatMessage({\n              id: 'components.Blocks.blocks.image',\n              defaultMessage: 'Image',\n            })}\n          >\n            <Image />\n          </IconButton>\n          <IconButton\n            disabled={isDisabled}\n            onClick={() => handleActionClick('Link', editorRef)}\n            label={formatMessage({\n              id: 'components.Blocks.popover.link',\n              defaultMessage: 'Link',\n            })}\n            name={formatMessage({\n              id: 'components.Blocks.popover.link',\n              defaultMessage: 'Link',\n            })}\n          >\n            <Link />\n          </IconButton>\n          <IconButton\n            disabled={isDisabled}\n            onClick={() => handleActionClick('Quote', editorRef)}\n            label={formatMessage({\n              id: 'components.Blocks.blocks.quote',\n              defaultMessage: 'Quote',\n            })}\n            name={formatMessage({\n              id: 'components.Blocks.blocks.quote',\n              defaultMessage: 'Quote',\n            })}\n          >\n            <Quotes />\n          </IconButton>\n        </IconButtonGroup>\n      ),\n      menu: (\n        <>\n          <Menu.Separator />\n          <Menu.Item onSelect={() => handleActionClick('Code', editorRef)} disabled={isDisabled}>\n            <Flex tag=\"span\" gap={2}>\n              <Code aria-hidden fill=\"neutral600\" />\n              {formatMessage({\n                id: 'components.Wysiwyg.blocks.code',\n                defaultMessage: 'Code',\n              })}\n            </Flex>\n          </Menu.Item>\n          <Menu.Item\n            startIcon={<Image />}\n            onSelect={() => {\n              onToggleMediaLib();\n            }}\n            disabled={isDisabled}\n          >\n            <Flex tag=\"span\" gap={2}>\n              <Image aria-hidden fill=\"neutral600\" />\n              {formatMessage({\n                id: 'components.Blocks.blocks.image',\n                defaultMessage: 'Image',\n              })}\n            </Flex>\n          </Menu.Item>\n          <Menu.Item\n            startIcon={<Link />}\n            onSelect={() => handleActionClick('Link', editorRef)}\n            disabled={isDisabled}\n          >\n            <Flex tag=\"span\" gap={2}>\n              <Link aria-hidden fill=\"neutral600\" />\n              {formatMessage({\n                id: 'components.Blocks.popover.link',\n                defaultMessage: 'Link',\n              })}\n            </Flex>\n          </Menu.Item>\n          <Menu.Item onSelect={() => handleActionClick('Quote', editorRef)} disabled={isDisabled}>\n            <Flex tag=\"span\" gap={2}>\n              <Quotes aria-hidden fill=\"neutral600\" />\n              {formatMessage({\n                id: 'components.Blocks.blocks.quote',\n                defaultMessage: 'Quote',\n              })}\n            </Flex>\n          </Menu.Item>\n        </>\n      ),\n      key: 'formatting-group-3',\n    },\n  ];\n\n  return (\n    <Flex\n      padding={2}\n      background=\"neutral100\"\n      justifyContent=\"space-between\"\n      borderRadius=\"0.4rem 0.4rem 0 0\"\n      width=\"100%\"\n      gap={4}\n    >\n      <Field.Root>\n        <SingleSelect\n          disabled={isDisabled}\n          placeholder={formatMessage({\n            id: 'components.Wysiwyg.selectOptions.title',\n            defaultMessage: 'Headings',\n          })}\n          aria-label={formatMessage({\n            id: 'components.Wysiwyg.selectOptions.title',\n            defaultMessage: 'Headings',\n          })}\n          // @ts-expect-error – DS v2 will only allow strings.\n          onChange={(value) => handleActionClick(value, editorRef)}\n          size=\"S\"\n        >\n          <SingleSelectOption value=\"h1\" startIcon={<HeadingOne fill=\"neutral600\" />}>\n            {formatMessage({\n              id: 'components.Wysiwyg.selectOptions.H1',\n              defaultMessage: 'Heading 1',\n            })}\n          </SingleSelectOption>\n          <SingleSelectOption value=\"h2\" startIcon={<HeadingTwo fill=\"neutral600\" />}>\n            {formatMessage({\n              id: 'components.Wysiwyg.selectOptions.H2',\n              defaultMessage: 'Heading 2',\n            })}\n          </SingleSelectOption>\n          <SingleSelectOption value=\"h3\" startIcon={<HeadingThree fill=\"neutral600\" />}>\n            {formatMessage({\n              id: 'components.Wysiwyg.selectOptions.H3',\n              defaultMessage: 'Heading 3',\n            })}\n          </SingleSelectOption>\n          <SingleSelectOption value=\"h4\" startIcon={<HeadingFour fill=\"neutral600\" />}>\n            {formatMessage({\n              id: 'components.Wysiwyg.selectOptions.H4',\n              defaultMessage: 'Heading 4',\n            })}\n          </SingleSelectOption>\n          <SingleSelectOption value=\"h5\" startIcon={<HeadingFive fill=\"neutral600\" />}>\n            {formatMessage({\n              id: 'components.Wysiwyg.selectOptions.H5',\n              defaultMessage: 'Heading 5',\n            })}\n          </SingleSelectOption>\n          <SingleSelectOption value=\"h6\" startIcon={<HeadingSix fill=\"neutral600\" />}>\n            {formatMessage({\n              id: 'components.Wysiwyg.selectOptions.H6',\n              defaultMessage: 'Heading 6',\n            })}\n          </SingleSelectOption>\n        </SingleSelect>\n      </Field.Root>\n      <Flex width=\"100%\" justifyContent=\"space-between\" overflow=\"hidden\">\n        <Flex gap={2} overflow=\"hidden\" width=\"100%\">\n          <EditorToolbarObserver\n            menuTriggerVariant=\"tertiary\"\n            observedComponents={observedComponents}\n          />\n        </Flex>\n\n        {onTogglePreviewMode && (\n          <Button onClick={onTogglePreviewMode} variant=\"tertiary\" minWidth=\"132px\">\n            {isPreviewMode\n              ? formatMessage({\n                  id: 'components.Wysiwyg.ToggleMode.markdown-mode',\n                  defaultMessage: 'Markdown mode',\n                })\n              : formatMessage({\n                  id: 'components.Wysiwyg.ToggleMode.preview-mode',\n                  defaultMessage: 'Preview mode',\n                })}\n          </Button>\n        )}\n      </Flex>\n    </Flex>\n  );\n};\n\nexport { WysiwygNav };\nexport type { WysiwygNavProps };\n"],"names":["WysiwygNav","disabled","editorRef","isPreviewMode","onToggleMediaLib","onTogglePreviewMode","formatMessage","useIntl","isDisabled","handleActionClick","value","currentEditorRef","markdownHandler","quoteAndCodeHandler","listHandler","titleHandler","observedComponents","toolbar","_jsxs","IconButtonGroup","_jsx","IconButton","onClick","label","id","defaultMessage","name","Bold","Italic","Underline","StrikeThrough","menu","_Fragment","Menu","Separator","Item","onSelect","Flex","tag","gap","aria-hidden","fill","key","BulletList","NumberList","Code","Image","Link","Quotes","startIcon","padding","background","justifyContent","borderRadius","width","Field","Root","SingleSelect","placeholder","aria-label","onChange","size","SingleSelectOption","HeadingOne","HeadingTwo","HeadingThree","HeadingFour","HeadingFive","HeadingSix","overflow","EditorToolbarObserver","menuTriggerVariant","Button","variant","minWidth"],"mappings":"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"}