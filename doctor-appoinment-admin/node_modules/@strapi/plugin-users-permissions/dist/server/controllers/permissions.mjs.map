{"version":3,"file":"permissions.mjs","sources":["../../../server/controllers/permissions.js"],"sourcesContent":["'use strict';\n\nconst _ = require('lodash');\nconst { getService } = require('../utils');\n\nmodule.exports = {\n  async getPermissions(ctx) {\n    const permissions = await getService('users-permissions').getActions();\n\n    ctx.send({ permissions });\n  },\n\n  async getPolicies(ctx) {\n    const policies = _.keys(strapi.plugin('users-permissions').policies);\n\n    ctx.send({\n      policies: _.without(policies, 'permissions'),\n    });\n  },\n\n  async getRoutes(ctx) {\n    const routes = await getService('users-permissions').getRoutes();\n\n    ctx.send({ routes });\n  },\n};\n"],"names":["_","require$$0","getService","require$$1","permissions","getPermissions","ctx","getActions","send","getPolicies","policies","keys","strapi","plugin","without","getRoutes","routes"],"mappings":";;;;;;;;AAEA,IAAA,MAAMA,CAAIC,GAAAA,UAAAA;IACV,MAAM,EAAEC,UAAU,EAAE,GAAGC,YAAAA,EAAAA;IAEvBC,WAAiB,GAAA;AACf,QAAA,MAAMC,gBAAeC,GAAG,EAAA;AACtB,YAAA,MAAMF,WAAc,GAAA,MAAMF,UAAW,CAAA,mBAAA,CAAA,CAAqBK,UAAU,EAAA;AAEpED,YAAAA,GAAAA,CAAIE,IAAI,CAAC;AAAEJ,gBAAAA;AAAW,aAAA,CAAA;AACvB,SAAA;AAED,QAAA,MAAMK,aAAYH,GAAG,EAAA;YACnB,MAAMI,QAAAA,GAAWV,EAAEW,IAAI,CAACC,OAAOC,MAAM,CAAC,qBAAqBH,QAAQ,CAAA;AAEnEJ,YAAAA,GAAAA,CAAIE,IAAI,CAAC;gBACPE,QAAUV,EAAAA,CAAAA,CAAEc,OAAO,CAACJ,QAAU,EAAA,aAAA;AACpC,aAAA,CAAA;AACG,SAAA;AAED,QAAA,MAAMK,WAAUT,GAAG,EAAA;AACjB,YAAA,MAAMU,MAAS,GAAA,MAAMd,UAAW,CAAA,mBAAA,CAAA,CAAqBa,SAAS,EAAA;AAE9DT,YAAAA,GAAAA,CAAIE,IAAI,CAAC;AAAEQ,gBAAAA;AAAM,aAAA,CAAA;AAClB;AACH,KAAA;;;;;;"}