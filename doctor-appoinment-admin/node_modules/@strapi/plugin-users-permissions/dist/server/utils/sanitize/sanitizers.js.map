{"version":3,"file":"sanitizers.js","sources":["../../../../server/utils/sanitize/sanitizers.js"],"sourcesContent":["'use strict';\n\nconst { curry } = require('lodash/fp');\nconst { traverseEntity, async } = require('@strapi/utils');\n\nconst { removeUserRelationFromRoleEntities } = require('./visitors');\n\nconst sanitizeUserRelationFromRoleEntities = curry((schema, entity) => {\n  return traverseEntity(\n    removeUserRelationFromRoleEntities,\n    { schema, getModel: strapi.getModel.bind(strapi) },\n    entity\n  );\n});\n\nconst defaultSanitizeOutput = curry((schema, entity) => {\n  return async.pipe(sanitizeUserRelationFromRoleEntities(schema))(entity);\n});\n\nmodule.exports = {\n  sanitizeUserRelationFromRoleEntities,\n  defaultSanitizeOutput,\n};\n"],"names":["curry","require$$0","traverseEntity","async","require$$1","removeUserRelationFromRoleEntities","require$$2","sanitizeUserRelationFromRoleEntities","schema","entity","getModel","strapi","bind","defaultSanitizeOutput","pipe","sanitizers"],"mappings":";;;;;;;;;;;IAEA,MAAM,EAAEA,KAAK,EAAE,GAAGC,UAAAA;AAClB,IAAA,MAAM,EAAEC,cAAc,EAAEC,KAAK,EAAE,GAAGC,UAAAA;IAElC,MAAM,EAAEC,kCAAkC,EAAE,GAAGC,eAAAA,EAAAA;IAE/C,MAAMC,oCAAAA,GAAuCP,KAAM,CAAA,CAACQ,MAAQC,EAAAA,MAAAA,GAAAA;AAC1D,QAAA,OAAOP,eACLG,kCACA,EAAA;AAAEG,YAAAA,MAAAA;AAAQE,YAAAA,QAAAA,EAAUC,MAAOD,CAAAA,QAAQ,CAACE,IAAI,CAACD,MAAAA;SACzCF,EAAAA,MAAAA,CAAAA;AAEJ,KAAA,CAAA;IAEA,MAAMI,qBAAAA,GAAwBb,KAAM,CAAA,CAACQ,MAAQC,EAAAA,MAAAA,GAAAA;AAC3C,QAAA,OAAON,KAAMW,CAAAA,IAAI,CAACP,oCAAAA,CAAqCC,MAASC,CAAAA,CAAAA,CAAAA,MAAAA,CAAAA;AAClE,KAAA,CAAA;IAEAM,UAAiB,GAAA;AACfR,QAAAA,oCAAAA;AACAM,QAAAA;AACF,KAAA;;;;;;"}