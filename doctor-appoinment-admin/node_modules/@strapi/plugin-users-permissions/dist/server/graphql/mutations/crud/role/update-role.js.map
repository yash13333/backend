{"version":3,"file":"update-role.js","sources":["../../../../../../server/graphql/mutations/crud/role/update-role.js"],"sourcesContent":["'use strict';\n\nconst usersPermissionsRoleUID = 'plugin::users-permissions.role';\n\nmodule.exports = ({ nexus, strapi }) => {\n  const { getContentTypeInputName } = strapi.plugin('graphql').service('utils').naming;\n  const { nonNull } = nexus;\n\n  const roleContentType = strapi.getModel(usersPermissionsRoleUID);\n\n  const roleInputName = getContentTypeInputName(roleContentType);\n\n  return {\n    type: 'UsersPermissionsUpdateRolePayload',\n\n    args: {\n      id: nonNull('ID'),\n      data: nonNull(roleInputName),\n    },\n\n    description: 'Update an existing role',\n\n    async resolve(parent, args, context) {\n      const { koaContext } = context;\n\n      koaContext.params = { role: args.id };\n      koaContext.request.body = args.data;\n      koaContext.request.body.role = args.id;\n\n      await strapi.plugin('users-permissions').controller('role').updateRole(koaContext);\n\n      return { ok: true };\n    },\n  };\n};\n"],"names":["usersPermissionsRoleUID","updateRole","nexus","strapi","getContentTypeInputName","plugin","service","naming","nonNull","roleContentType","getModel","roleInputName","type","args","id","data","description","resolve","parent","context","koaContext","params","role","request","body","controller","ok"],"mappings":";;;;;;;AAEA,IAAA,MAAMA,uBAA0B,GAAA,gCAAA;AAEhCC,IAAAA,UAAAA,GAAiB,CAAC,EAAEC,KAAK,EAAEC,MAAM,EAAE,GAAA;QACjC,MAAM,EAAEC,uBAAuB,EAAE,GAAGD,MAAAA,CAAOE,MAAM,CAAC,SAAWC,CAAAA,CAAAA,OAAO,CAAC,OAAA,CAAA,CAASC,MAAM;QACpF,MAAM,EAAEC,OAAO,EAAE,GAAGN,KAAAA;QAEpB,MAAMO,eAAAA,GAAkBN,MAAOO,CAAAA,QAAQ,CAACV,uBAAAA,CAAAA;AAExC,QAAA,MAAMW,gBAAgBP,uBAAwBK,CAAAA,eAAAA,CAAAA;QAE9C,OAAO;YACLG,IAAM,EAAA,mCAAA;YAENC,IAAM,EAAA;AACJC,gBAAAA,EAAAA,EAAIN,OAAQ,CAAA,IAAA,CAAA;AACZO,gBAAAA,IAAAA,EAAMP,OAAQG,CAAAA,aAAAA;AACf,aAAA;YAEDK,WAAa,EAAA,yBAAA;AAEb,YAAA,MAAMC,OAAQC,CAAAA,CAAAA,MAAM,EAAEL,IAAI,EAAEM,OAAO,EAAA;gBACjC,MAAM,EAAEC,UAAU,EAAE,GAAGD,OAAAA;AAEvBC,gBAAAA,UAAAA,CAAWC,MAAM,GAAG;AAAEC,oBAAAA,IAAAA,EAAMT,KAAKC;AAAE,iBAAA;AACnCM,gBAAAA,UAAAA,CAAWG,OAAO,CAACC,IAAI,GAAGX,KAAKE,IAAI;AACnCK,gBAAAA,UAAAA,CAAWG,OAAO,CAACC,IAAI,CAACF,IAAI,GAAGT,KAAKC,EAAE;gBAEtC,MAAMX,MAAAA,CAAOE,MAAM,CAAC,mBAAA,CAAA,CAAqBoB,UAAU,CAAC,MAAA,CAAA,CAAQxB,UAAU,CAACmB,UAAAA,CAAAA;gBAEvE,OAAO;oBAAEM,EAAI,EAAA;;AACd;AACL,SAAA;AACA,KAAA;;;;;;"}