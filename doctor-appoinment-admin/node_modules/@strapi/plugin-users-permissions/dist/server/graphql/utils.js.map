{"version":3,"file":"utils.js","sources":["../../../server/graphql/utils.js"],"sourcesContent":["'use strict';\n\nconst { getOr } = require('lodash/fp');\n\n/**\n * Throws an ApolloError if context body contains a bad request\n * @param contextBody - body of the context object given to the resolver\n * @throws ApolloError if the body is a bad request\n */\nfunction checkBadRequest(contextBody) {\n  const statusCode = getOr(200, 'statusCode', contextBody);\n\n  if (statusCode !== 200) {\n    const errorMessage = getOr('Bad Request', 'error', contextBody);\n\n    const exception = new Error(errorMessage);\n\n    exception.code = statusCode || 400;\n    exception.data = contextBody;\n\n    throw exception;\n  }\n}\n\nmodule.exports = {\n  checkBadRequest,\n};\n"],"names":["getOr","require$$0","checkBadRequest","contextBody","statusCode","errorMessage","exception","Error","code","data","utils"],"mappings":";;;;;;;;;IAEA,MAAM,EAAEA,KAAK,EAAE,GAAGC,UAAAA;AAElB;;;;KAKA,SAASC,gBAAgBC,WAAW,EAAA;QAClC,MAAMC,UAAAA,GAAaJ,KAAM,CAAA,GAAA,EAAK,YAAcG,EAAAA,WAAAA,CAAAA;AAE5C,QAAA,IAAIC,eAAe,GAAK,EAAA;YACtB,MAAMC,YAAAA,GAAeL,KAAM,CAAA,aAAA,EAAe,OAASG,EAAAA,WAAAA,CAAAA;YAEnD,MAAMG,SAAAA,GAAY,IAAIC,KAAMF,CAAAA,YAAAA,CAAAA;YAE5BC,SAAUE,CAAAA,IAAI,GAAGJ,UAAc,IAAA,GAAA;AAC/BE,YAAAA,SAAAA,CAAUG,IAAI,GAAGN,WAAAA;YAEjB,MAAMG,SAAAA;AACP;AACH;IAEAI,KAAiB,GAAA;AACfR,QAAAA;AACF,KAAA;;;;;;"}