{"version":3,"file":"cleanPermissions.js","sources":["../../../admin/src/utils/cleanPermissions.js"],"sourcesContent":["import isEmpty from 'lodash/isEmpty';\n\nconst cleanPermissions = (permissions) =>\n  Object.keys(permissions).reduce((acc, current) => {\n    const currentPermission = permissions[current].controllers;\n    const cleanedControllers = Object.keys(currentPermission).reduce((acc2, curr) => {\n      if (isEmpty(currentPermission[curr])) {\n        return acc2;\n      }\n\n      acc2[curr] = currentPermission[curr];\n\n      return acc2;\n    }, {});\n\n    if (isEmpty(cleanedControllers)) {\n      return acc;\n    }\n\n    acc[current] = { controllers: cleanedControllers };\n\n    return acc;\n  }, {});\n\nexport default cleanPermissions;\n"],"names":["cleanPermissions","permissions","Object","keys","reduce","acc","current","currentPermission","controllers","cleanedControllers","acc2","curr","isEmpty"],"mappings":";;;;AAEMA,MAAAA,gBAAAA,GAAmB,CAACC,WAAAA,GACxBC,MAAOC,CAAAA,IAAI,CAACF,WAAaG,CAAAA,CAAAA,MAAM,CAAC,CAACC,GAAKC,EAAAA,OAAAA,GAAAA;AACpC,QAAA,MAAMC,iBAAoBN,GAAAA,WAAW,CAACK,OAAAA,CAAQ,CAACE,WAAW;QAC1D,MAAMC,kBAAAA,GAAqBP,OAAOC,IAAI,CAACI,mBAAmBH,MAAM,CAAC,CAACM,IAAMC,EAAAA,IAAAA,GAAAA;AACtE,YAAA,IAAIC,OAAQL,CAAAA,iBAAiB,CAACI,IAAAA,CAAK,CAAG,EAAA;gBACpC,OAAOD,IAAAA;AACT;AAEAA,YAAAA,IAAI,CAACC,IAAAA,CAAK,GAAGJ,iBAAiB,CAACI,IAAK,CAAA;YAEpC,OAAOD,IAAAA;AACT,SAAA,EAAG,EAAC,CAAA;AAEJ,QAAA,IAAIE,QAAQH,kBAAqB,CAAA,EAAA;YAC/B,OAAOJ,GAAAA;AACT;QAEAA,GAAG,CAACC,QAAQ,GAAG;YAAEE,WAAaC,EAAAA;AAAmB,SAAA;QAEjD,OAAOJ,GAAAA;AACT,KAAA,EAAG,EAAC;;;;"}